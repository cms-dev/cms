/* jqplot 1.0.9 | (c) 2009-2016 Chris Leonello | jplot.com
   jsDate | (c) 2010-2016 Chris Leonello
 */
!function(a){function b(a,b,c){for(var d,e,f,g=Number.MAX_VALUE,h=0,i=k.length;h<i;h++)d=Math.abs(c-k[h]),d<g&&(g=d,e=k[h],f=j[h]);return[e,f]}a.jqplot.DateAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this),this.date=new a.jsDate};var c=1e3,d=60*c,e=60*d,f=24*e,g=7*f,h=30.4368499*f,i=365.242199*f,j=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],k=[.1*c,.2*c,.5*c,c,2*c,5*c,10*c,15*c,30*c,d,2*d,5*d,10*d,15*d,30*d,e,2*e,4*e,6*e,8*e,12*e,f,2*f,3*f,4*f,5*f,g,2*g];a.jqplot.DateAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer,a.jqplot.DateAxisRenderer.prototype.constructor=a.jqplot.DateAxisRenderer,a.jqplot.DateTickFormatter=function(b,c){return b||(b="%Y/%m/%d"),a.jsDate.strftime(c,b)},a.jqplot.DateAxisRenderer.prototype.init=function(b){this.tickOptions.formatter=a.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,a.extend(!0,this,b);for(var c,d,e,f,g,h,i,j=this._dataBounds,k=0;k<this._series.length;k++){c={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},d=0,e=this._series[k],f=e.data,g=e._plotData,h=e._stackData,i=0;for(var l=0;l<f.length;l++)"xaxis"==this.name||"x2axis"==this.name?(f[l][0]=new a.jsDate(f[l][0]).getTime(),g[l][0]=new a.jsDate(f[l][0]).getTime(),h[l][0]=new a.jsDate(f[l][0]).getTime(),(null!=f[l][0]&&f[l][0]<j.min||null==j.min)&&(j.min=f[l][0]),(null!=f[l][0]&&f[l][0]>j.max||null==j.max)&&(j.max=f[l][0]),l>0&&(i=Math.abs(f[l][0]-f[l-1][0]),c.intervals.push(i),c.frequencies.hasOwnProperty(i)?c.frequencies[i]+=1:c.frequencies[i]=1),d+=i):(f[l][1]=new a.jsDate(f[l][1]).getTime(),g[l][1]=new a.jsDate(f[l][1]).getTime(),h[l][1]=new a.jsDate(f[l][1]).getTime(),(null!=f[l][1]&&f[l][1]<j.min||null==j.min)&&(j.min=f[l][1]),(null!=f[l][1]&&f[l][1]>j.max||null==j.max)&&(j.max=f[l][1]),l>0&&(i=Math.abs(f[l][1]-f[l-1][1]),c.intervals.push(i),c.frequencies.hasOwnProperty(i)?c.frequencies[i]+=1:c.frequencies[i]=1)),d+=i;if(e.renderer.bands){if(e.renderer.bands.hiData.length)for(var m=e.renderer.bands.hiData,l=0,n=m.length;l<n;l++)"xaxis"===this.name||"x2axis"===this.name?(m[l][0]=new a.jsDate(m[l][0]).getTime(),(null!=m[l][0]&&m[l][0]>j.max||null==j.max)&&(j.max=m[l][0])):(m[l][1]=new a.jsDate(m[l][1]).getTime(),(null!=m[l][1]&&m[l][1]>j.max||null==j.max)&&(j.max=m[l][1]));if(e.renderer.bands.lowData.length)for(var m=e.renderer.bands.lowData,l=0,n=m.length;l<n;l++)"xaxis"===this.name||"x2axis"===this.name?(m[l][0]=new a.jsDate(m[l][0]).getTime(),(null!=m[l][0]&&m[l][0]<j.min||null==j.min)&&(j.min=m[l][0])):(m[l][1]=new a.jsDate(m[l][1]).getTime(),(null!=m[l][1]&&m[l][1]<j.min||null==j.min)&&(j.min=m[l][1]))}for(var o in c.frequencies)c.sortedIntervals.push({interval:o,frequency:c.frequencies[o]});c.sortedIntervals.sort(function(a,b){return b.frequency-a.frequency}),c.min=a.jqplot.arrayMin(c.intervals),c.max=a.jqplot.arrayMax(c.intervals),c.mean=d/f.length,this._intervalStats.push(c),c=d=e=f=g=h=null}j=null},a.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},a.jqplot.DateAxisRenderer.prototype.createTicks=function(c){var d,e,g,j,k=this._ticks,l=this.ticks,m=this.name,n=this._dataBounds,o=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),p=30,q=1,r=null;if(null!=this.tickInterval)if(Number(this.tickInterval))r=[Number(this.tickInterval),"seconds"];else if("string"==typeof this.tickInterval){var s=this.tickInterval.split(" ");1==s.length?r=[1,s[0]]:2==s.length&&(r=[s[0],s[1]])}this.tickInterval;d=new a.jsDate(null!=this.min?this.min:n.min).getTime(),e=new a.jsDate(null!=this.max?this.max:n.max).getTime();var t=c.plugins.cursor;t&&t._zoom&&t._zoom.zooming&&(this.min=null,this.max=null);var u=e-d;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),l.length){for(j=0;j<l.length;j++){var v=l[j],w=new this.tickRenderer(this.tickOptions);v.constructor==Array?(w.value=new a.jsDate(v[0]).getTime(),w.label=v[1],this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),w.setTick(w.value,this.name),this._ticks.push(w)):(w.value=new a.jsDate(v).getTime(),this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),w.setTick(w.value,this.name),this._ticks.push(w))}this.numberTicks=l.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&n.min==n.max){var x=a.extend(!0,{},this.tickOptions,{name:this.name,value:null}),y=3e5;this.min=n.min-y,this.max=n.max+y,this.numberTicks=3;for(var j=this.min;j<=this.max;j+=y){x.value=j;var w=new this.tickRenderer(x);this._overrideFormatString&&""!=this._autoFormatString&&(w.formatString=this._autoFormatString),w.showLabel=!1,w.showMark=!1,this._ticks.push(w)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var z,A,B=a.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks)this.tickInterval?A=new a.jsDate(0).add(r[0],r[1]).getTime():this.numberTicks&&(z=this.numberTicks,A=(e-d)/(z-1));else{var C=Math.max(o,p+1),D=115;this.tickRenderer===a.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(D=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),z=Math.ceil((C-p)/D+1),A=(e-d)/(z-1)}if(A<=19*f){var E=b(d,e,A),F=E[0];this._autoFormatString=E[1],d=new a.jsDate(d),d=Math.floor((d.getTime()-d.getUtcOffset())/F)*F+d.getUtcOffset(),z=Math.ceil((e-d)/F)+1,this.min=d,this.max=d+(z-1)*F,this.max<e&&(this.max+=F,z+=1),this.tickInterval=F,this.numberTicks=z;for(var j=0;j<z;j++)B.value=this.min+j*F,w=new this.tickRenderer(B),this._overrideFormatString&&""!=this._autoFormatString&&(w.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),this._ticks.push(w);q=this.tickInterval}else if(A<=9*h){this._autoFormatString="%v";var G=Math.round(A/h);G<1?G=1:G>6&&(G=6);var H=new a.jsDate(d).setDate(1).setHours(0,0,0,0),I=new a.jsDate(e),J=new a.jsDate(e).setDate(1).setHours(0,0,0,0);I.getTime()!==J.getTime()&&(J=J.add(1,"month"));var K=J.diff(H,"month");z=Math.ceil(K/G)+1,this.min=H.getTime(),this.max=H.clone().add((z-1)*G,"month").getTime(),this.numberTicks=z;for(var j=0;j<z;j++)0===j?B.value=H.getTime():B.value=H.add(G,"month").getTime(),w=new this.tickRenderer(B),this._overrideFormatString&&""!=this._autoFormatString&&(w.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),this._ticks.push(w);q=G*h}else{this._autoFormatString="%v";var G=Math.round(A/i);G<1&&(G=1);var H=new a.jsDate(d).setMonth(0,1).setHours(0,0,0,0),J=new a.jsDate(e).add(1,"year").setMonth(0,1).setHours(0,0,0,0),L=J.diff(H,"year");z=Math.ceil(L/G)+1,this.min=H.getTime(),this.max=H.clone().add((z-1)*G,"year").getTime(),this.numberTicks=z;for(var j=0;j<z;j++)0===j?B.value=H.getTime():B.value=H.add(G,"year").getTime(),w=new this.tickRenderer(B),this._overrideFormatString&&""!=this._autoFormatString&&(w.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),this._ticks.push(w);q=G*i}}else{if(o="xaxis"==m||"x2axis"==m?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=r&&(this.daTickInterval=r),d==e){var M=432e5;d-=M,e+=M}u=e-d;var N,O;2+parseInt(Math.max(0,o-100)/100,10);if(N=null!=this.min?new a.jsDate(this.min).getTime():d-u/2*(this.padMin-1),O=null!=this.max?new a.jsDate(this.max).getTime():e+u/2*(this.padMax-1),this.min=N,this.max=O,u=this.max-this.min,null==this.numberTicks)if(null!=this.daTickInterval){var P=new a.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(P/this.daTickInterval[0])+1,this.max=new a.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else o>200?this.numberTicks=parseInt(3+(o-200)/100,10):this.numberTicks=2;q=u/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[q,"seconds"]);for(var j=0;j<this.numberTicks;j++){var d=new a.jsDate(this.min);g=d.add(j*this.daTickInterval[0],this.daTickInterval[1]).getTime();var w=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(w.showMark=!1):(w.showLabel=!1,w.showMark=!1),w.setTick(g,this.name),this._ticks.push(w)}}this.tickInset&&(this.min=this.min-this.tickInset*q,this.max=this.max+this.tickInset*q),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval),k=null}}(jQuery);
