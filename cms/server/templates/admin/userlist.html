{% extends base.html %}

{% block core %}
<div class="core_title">
  <h1>Users list</h1>
</div>
<a href="{{ url_root }}/add_user/{{ contest.id }}">Add a new user</a>
<table class="bordered">
  <thead>
    <tr>
      <th style="width: 21%">First name</th>
      <th style="width: 23%">Last name</th>
      <th style="width: 23%">Username</th>
      <th style="width: 15%">Group</th>
      <th style="width: 18%">Reevaluate</th>
    </tr>
  </thead>
  <tbody>
    {% for u in sorted(contest.users, cmp = lambda x, y: cmp(x.username, y.username)) %}
    <tr>
      <td>{{ u.first_name }}</td>
      <td>{{ u.last_name }}</td>
      <td><a href="{{ url_root }}/user/{{ u.id }}">{{ u.username }}</a></td>
      <td><a href="{{ url_root }}/group/{{ u.group.id }}">{{ u.group.name }}</a></td>
      <td>
        {% set reevaluation_par_name = "user" %}
        {% set reevaluation_par_value = u.id %}
        {% set reevaluation_par_dataset_id = None %}
        {% include reevaluation_buttons.html %}
      </td>
    </tr>
    {% end %}
  </tbody>
</table>
{% end %}
